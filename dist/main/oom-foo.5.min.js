//// Oom.Foo //// 1.2.11 //// February 2018 //// http://oom-foo.loop.coop/ /////

"use strict";!function(e){var t={NAME:"Oom.Foo",
VERSION:"1.2.11",HOMEPAGE:"http://oom-foo.loop.coop/",
REMARKS:"Initial test of the oom-hub architecture",
LOADED_FIRST:!e.Oom},n=function assignKIT(){
var t=void 0!==arguments[0]?arguments[0]:{}
;return Object.assign({},{generateUUID:function(){
var e=function(e,t){
return String.fromCharCode(Math.random()*(t-e)+e)}
;return"x".repeat(6).replace(/./g,function(t){return e(48,122)
}).replace(/[:-@\\[-\`]/g,function(t){return e(97,122)})},
applyDefault:function(e,t){
return!!t.hasOwnProperty(e.name)||!!e.hasOwnProperty("default")&&(t[e.name]="function"==typeof e.default?e.default(t):e.default,
!0)},validateType:function(e,t){
var n="KIT.validateType: ",r="constructor"
;if(null===e.type)return null===t?null:"is not null"
;if(void 0===e.type)return void 0===t?null:"is not undefined"
;if(!e.type.name)throw new TypeError(n+e.name+"’s valid.type has no name")
;if(!t[r]||!t[r].name)throw new TypeError(n+e.name+"’s value has no "+r+".name")
;return e.type.name===t[r].name?null:"has "+r+".name "+t[r].name+" not "+e.type.name
},validateRange:function(e,t){
return null!=e.min&&e.min>t?"is less than the minimum "+e.min:null!=e.max&&e.max<t?"is greater than the maximum "+e.max:null!=e.step&&t/e.step%1?t+" ÷ "+e.step+" leaves "+t/e.step%1:void 0
},isValid:function(e,t){var n="KIT.isValid: "+e.name+"’s "
;if("string"==typeof e.type)switch(e.type){case"undefined":
return e.type===(void 0===t?"undefined":$traceurRuntime.typeof(t))
;case"color":return/^#[0-9a-fA-F]{6}$/.test(t);case"int":
return Number.isInteger(t);case"null":return null===t;default:
throw new TypeError(n+"valid.type is '"+e.type+"'")}
if(Number===e.type)return"number"==typeof t&&!Number.isNaN(t)
;if(null===e.type)return null===t
;if(void 0===e.type)return void 0===t
;if(!e.type.name)throw new TypeError(n+"valid.type has no name")
;if(!t.constructor||!t.constructor.name)throw new TypeError(n+"value has no constructor.name")
;return e.type.name===t.constructor.name},getNow:function(){
var t
;if("object"===$traceurRuntime.typeof(e.process)&&"function"==typeof e.process.hrtime){
var n=e.process.hrtime();t=(1e9*n[0]+n[1])/1e6
}else t=e.performance.now();return t},define:function(e){
for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]
;return t.forEach(function(t){
var r="KIT.define: ",a={},o=function(o){
if(void 0===t[o].default)throw Error(r+o+" is not a valid schema object")
;var i=t[o].default;if(n.isReadOnly(o))a["_"+o]={writable:!0,
value:i,configurable:!0,enumerable:!0},a[o]={get:function(){
return e["_"+o]},set:function(e){},configurable:!0,enumerable:!0
};else if(n.isReadWrite(o))a["_"+o]={writable:!0,value:i,
configurable:!0,enumerable:!0},a[o]={get:function(){
return e["_"+o]},set:function(r){
return n.isValid(t[o],r)?e["_"+o]=r:"function"==typeof t[o].type&&(a=t[o].type(r),
n.isValid(t[o],a))?e["_"+o]=a:void 0;var a},configurable:!0,
enumerable:!0};else{
if(!n.isConstant(o))throw Error(r+o+" is an invalid property name")
;a[o]={writable:!1,value:i,configurable:!1,enumerable:!0}}}
;for(var i in t)o(i);Object.defineProperties(e,a)})},
name:function(e,t){return Object.defineProperty(e,"name",{
value:t,configurable:!1})},wrapReadOnly:function(e){},
countKeyMatches:function(e,t){
var n=void 0!==arguments[2]?arguments[2]:0
;for(var r in e)t(r)&&n++;return n},isConstant:function(e){
return/^[A-Z][_A-Z0-9]*$/.test(e)},isReadOnly:function(e){
return-1!==e.indexOf("_")&&/^[a-z][_a-z0-9]+$/.test(e)},
isReadWrite:function(e){return/^[a-z][A-Za-z0-9]*$/.test(e)},
normaliseSchema:function(e){var t={}
;for(var n in e)for(var r in t[n]={},e[n]){
var a="KIT.normaliseSchema: "+r+"’s ",o=e[n][r],i=t[n][r]={}
;i.name=r,i.default="object"===(void 0===o?"undefined":$traceurRuntime.typeof(o))?o.default:o
;var u={array:Array,boolean:Boolean,function:Function,
number:Number,object:Object,string:String,symbol:Symbol}
;if(o.hasOwnProperty("type"))if(u[o.type])i.type=u[o.type];else{
if(!{undefined:1,color:1,int:1,null:1
}[o.type])throw new TypeError(a+"valid.type is '"+valid.type+"'")
;i.type=o.type}else i.type=i.default.constructor
;o.remarks&&(i.remarks=o.remarks)}return t}},t)
}(t.LOADED_FIRST||!e.Oom.KIT?{}:e.Oom.KIT),r=e.Oom=t.LOADED_FIRST?function(){
function Oom(){void 0!==arguments[0]&&arguments[0]}
return $traceurRuntime.createClass(Oom,{},{get schema(){
return Oom._norm_schema=Oom._norm_schema||n.normaliseSchema({
stat:{NAME:"Oom",VERSION:t.VERSION,
HOMEPAGE:"http://oom.loop.coop/",
REMARKS:"Base class for all Oom classes",bar_baz:{
remarks:"Test read-only static",default:"initial value"},
hilite:{
remarks:"General purpose, useful as a dev label or status",
default:"#112233",type:"color"}},attr:{FOO_BAR:8080,foo_bar:1e4,
hilite:{
remarks:"General purpose, useful as a dev label or status",
default:"#445566",type:"color"},fooBar:{default:1e3,
type:"number"}}})}})}():e.Oom
;n.name(r,"Oom"),t.LOADED_FIRST&&(r.stat={},n.define(r.stat,r.schema.stat),
r.prototype.attr={},
n.define(r.prototype.attr,r.schema.attr)),Object.defineProperty(r,"memberTableVueTemplate",{
get:function(e){
return'\n<div :class="\'member-table \'+objname">\n  <table :class="{ hid:doHide }">\n    <caption v-html="caption"></caption>\n    <tr v-for="val, key in obj" v-bind:class="\'Oom-\'+key">\n      <td class="key">{{key}}</td>\n      <td class="val">\n        <input v-if="isReadWrite(key)"    class="read-write" v-model="obj[key]">\n        <span v-else-if="isReadOnly(key)" class="read-only">{{val}}</span>\n        <span v-else-if="isConstant(key)" class="constant">{{val}}</span>\n        <span v-else                      class="private">{{val}}</span>\n      </td>\n    </tr>\n  </table>\n</div>\n'
}}),Object.defineProperty(r,"devMainVueTemplate",{
get:function(e){
return'\n<div class="dev-main col-12">\n  <member-table :obj="stat" objname="stat" :do-hide="ui.hideData"\n    :caption="stat.NAME+\' static properties:\'"></member-table>\n  <member-table :obj="attr" objname="attr" :do-hide="ui.hideData"\n    :caption="stat.NAME+\' attribute properties:\'"></member-table>\n</div>\n'
}}),r.devMainVue={template:r.devMainVueTemplate,data:function(){
return{stat:r.stat,attr:(new r).attr,ui:{hideData:!1,
hideInners:!1}}},beforeCreate:function(){
var e=n,t=e.isReadWrite,a=e.isReadOnly,o=e.isConstant
;Vue.component("member-table",{
template:r.memberTableVueTemplate,props:{doHide:Boolean,
caption:String,obj:Object,objname:String},methods:{
isReadWrite:t,isReadOnly:a,isConstant:o}})},created:function(){
n.wrapReadOnly(e.Oom.stat)}},r.KIT=n,r.Foo=function(e){
return $traceurRuntime.createClass(function $__1(){
$traceurRuntime.superConstructor($__1).apply(this,arguments)
},{},{},e)
}(r),n.name(r.Foo,"Oom.Foo"),r.Foo.stat={},n.define(r.Foo.stat,n.normaliseSchema({
a:t}).a),n.define(r.Foo.stat,n.normaliseSchema({a:t}).a)
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
function(e){Number,String,Number,String,Number,Object
;var t=e.Oom,n=t.KIT,r=t.Foo.Post=function(e){
return $traceurRuntime.createClass(function $__0(){
var e=void 0!==arguments[0]?arguments[0]:{}
;$traceurRuntime.superConstructor($__0).call(this,e),
this._validateConstructor(e)},{_getReady:function(){var e=this
;if(this.setupStart)throw new Error("Oom.Foo.Post._getReady(): Can only run once")
;return Object.defineProperty(this,"setupStart",{
value:n.getNow()}),new Promise(function(t,r){
setTimeout(function(){Object.defineProperty(e,"setupEnd",{
value:n.getNow()}),t({setupDelay:e.setupEnd-e.setupStart})},0)})
},_validateConstructor:function(e){
var t,r,a="Oom.Foo.Post._validateConstructor(): "
;if("object"!==(void 0===e?"undefined":$traceurRuntime.typeof(e)))throw new Error(a+"config is type "+(void 0===e?"undefined":$traceurRuntime.typeof(e))+" not object")
;this.validConstructor.forEach(function(o){
if(!n.applyDefault(o,e))throw new TypeError(a+"config."+o.name+" is mandatory")
;if(r=e[o.name],
t=n.validateType(o,r))throw new TypeError(a+"config."+o.name+" "+t)
;if(t=n.validateRange(o,r))throw new RangeError(a+"config."+o.name+" "+t)
})},get validConstructor(){return[{title:"Third Prop",
name:"thirdProp",alias:"tp",
tooltip:"An example object property, intended as a placeholder",
devtip:"You should replace this placeholder with a real property",
form:"text",type:String,default:"Some default text"}]},
xxx:function(e){this.hub,this.a,this.b,this.c;var t=e
;t.xx,t.yy,t.zz}},{},e)}(t.Foo)
;n.name(r,"Oom.Foo.Post"),t.Foo.Post.stat={}
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
function(e){Number,String,Number,String,Number,Object
;var t=e.Oom,n=t.KIT,r=t.Foo.Router=function(e){
return $traceurRuntime.createClass(function $__0(){
var e=void 0!==arguments[0]?arguments[0]:{}
;$traceurRuntime.superConstructor($__0).call(this,e),
this._validateConstructor(e)},{_getReady:function(){var e=this
;if(this.setupStart)throw new Error("Oom.Foo.Router._getReady(): Can only run once")
;return Object.defineProperty(this,"setupStart",{
value:n.getNow()}),new Promise(function(t,r){
setTimeout(function(){Object.defineProperty(e,"setupEnd",{
value:n.getNow()}),t({setupDelay:e.setupEnd-e.setupStart})},0)})
},_validateConstructor:function(e){
var t,r,a="Oom.Foo.Router._validateConstructor(): "
;if("object"!==(void 0===e?"undefined":$traceurRuntime.typeof(e)))throw new Error(a+"config is type "+(void 0===e?"undefined":$traceurRuntime.typeof(e))+" not object")
;this.validConstructor.forEach(function(o){
if(!n.applyDefault(o,e))throw new TypeError(a+"config."+o.name+" is mandatory")
;if(r=e[o.name],
t=n.validateType(o,r))throw new TypeError(a+"config."+o.name+" "+t)
;if(t=n.validateRange(o,r))throw new RangeError(a+"config."+o.name+" "+t)
})},get validConstructor(){return[{title:"Third Prop",
name:"thirdProp",alias:"tp",
tooltip:"An example object property, intended as a placeholder",
devtip:"You should replace this placeholder with a real property",
form:"text",type:String,default:"Some default text"}]},
xxx:function(e){this.hub,this.a,this.b,this.c;var t=e
;t.xx,t.yy,t.zz}},{},e)}(t.Foo)
;n.name(r,"Oom.Foo.Router"),t.Foo.Router.stat={}
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this);



//// Made by Oomtility Make 1.2.11 //\\//\\ http://oomtility.loop.coop /////////
