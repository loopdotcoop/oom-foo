//// Oom.Foo //// 1.2.16 //// March 2018 //// http://oom-foo.loop.coop/ ////////

"use strict";!function(e){var t={NAME:"Oom.Foo",
VERSION:"1.2.16",HOMEPAGE:"http://oom-foo.loop.coop/",
REMARKS:"Initial test of the oom-hub architecture",
LOADED_FIRST:!e.Oom},n=function assignKIT(){
var t=void 0!==arguments[0]?arguments[0]:{}
;return Object.assign({},{generateUUID:function(){
var e=function(e,t){
return String.fromCharCode(Math.random()*(t-e)+e)}
;return"x".repeat(6).replace(/./g,function(t){return e(48,122)
}).replace(/[:-@\\[-\`]/g,function(t){return e(97,122)})},
applyDefault:function(e,t){
return!!t.hasOwnProperty(e.name)||!!e.hasOwnProperty("default")&&(t[e.name]="function"==typeof e.default?e.default(t):e.default,
!0)},validateType:function(e,t){
var n="KIT.validateType: ",a="constructor"
;if(null===e.type)return null===t?null:"is not null"
;if(void 0===e.type)return void 0===t?null:"is not undefined"
;if(!e.type.name)throw TypeError(n+e.name+"’s valid.type has no name")
;if(!t[a]||!t[a].name)throw TypeError(n+e.name+"’s value has no "+a+".name")
;return e.type.name===t[a].name?null:"has "+a+".name "+t[a].name+" not "+e.type.name
},validateRange:function(e,t){
return null!=e.min&&e.min>t?"is less than the minimum "+e.min:null!=e.max&&e.max<t?"is greater than the maximum "+e.max:null!=e.step&&t/e.step%1?t+" ÷ "+e.step+" leaves "+t/e.step%1:void 0
},isValid:function(e,t){var n="KIT.isValid: "+e.name+"’s "
;if("string"==typeof e.type)switch(e.type){case"undefined":
return e.type===(void 0===t?"undefined":$traceurRuntime.typeof(t))
;case"color":return/^#[0-9a-fA-F]{6}$/.test(t);case"int":
return Number.isInteger(t);case"null":return null===t;default:
throw TypeError(n+"valid.type is '"+e.type+"'")}
if(Number===e.type)return"number"==typeof t&&!Number.isNaN(t)
;if(null===e.type)return null===t
;if(void 0===e.type)return void 0===t
;if(!e.type.name)throw TypeError(n+"valid.type has no name")
;if(!t.constructor||!t.constructor.name)throw TypeError(n+"value has no constructor.name")
;return e.type.name===t.constructor.name},getNow:function(){
var t
;if("object"===$traceurRuntime.typeof(e.process)&&"function"==typeof e.process.hrtime){
var n=e.process.hrtime();t=(1e9*n[0]+n[1])/1e6
}else t=e.performance.now();return t},define:function(e,t){
for(var a=[],r=2;r<arguments.length;r++)a[r-2]=arguments[r]
;return a.forEach(function(a){
var r="KIT.define: ",o={},i=function(i){
if(void 0===a[i].default)throw Error(r+i+" is not a valid schema object")
;var s=a[i].default
;if(n.isReadOnly(i))t?(a[i].definedIn.stat["_"+i]||Object.defineProperty(a[i].definedIn.stat,"_"+i,{
writable:!0,value:s,configurable:!0,enumerable:!0}),o[i]={
get:function(){return a[i].definedIn.stat["_"+i]},
set:function(e){},configurable:!0,enumerable:!0}):(o["_"+i]={
writable:!0,value:s,configurable:!0,enumerable:!0},o[i]={
get:function(){return e["_"+i]},set:function(e){},
configurable:!0,enumerable:!0
});else if(n.isReadWrite(i))t?(a[i].definedIn.stat["_"+i]?console.log(a[i].definedInStr,"already has","_"+i):Object.defineProperty(a[i].definedIn.stat,"_"+i,{
writable:!0,value:s,configurable:!0,enumerable:!0}),o[i]={
get:function(){return a[i].definedIn.stat["_"+i]},
set:function(e){
return n.isValid(a[i],e)?a[i].definedIn.stat["_"+i]=e:"function"==typeof a[i].type&&(t=a[i].type(e),
n.isValid(a[i],t))?a[i].definedIn.stat["_"+i]=t:void 0;var t},
configurable:!0,enumerable:!0}):(o["_"+i]={writable:!0,value:s,
configurable:!0,enumerable:!0},o[i]={get:function(){
return e["_"+i]},set:function(t){
return n.isValid(a[i],t)?e["_"+i]=t:"function"==typeof a[i].type&&(r=a[i].type(t),
n.isValid(a[i],r))?e["_"+i]=r:void 0;var r},configurable:!0,
enumerable:!0});else{
if(!n.isConstant(i))throw Error(r+i+" is an invalid property name")
;o[i]={writable:!1,value:s,configurable:!1,enumerable:!0}}}
;for(var s in a)i(s);Object.defineProperties(e,o)})},
name:function(e,t){return Object.defineProperty(e,"name",{
value:t,configurable:!1})},wrapReadOnly:function(e){},
countKeyMatches:function(e,t){
var n=void 0!==arguments[2]?arguments[2]:0
;for(var a in e)t(a)&&n++;return n},isConstant:function(e){
return/^[A-Z][_A-Z0-9]*$/.test(e)},isReadOnly:function(e){
return-1!==e.indexOf("_")&&/^[a-z][_a-z0-9]+$/.test(e)},
isReadWrite:function(e){return/^[a-z][A-Za-z0-9]*$/.test(e)},
stringOrName:function(e){return"string"==typeof e?e:e.name},
normaliseSchema:function(e,t,a){var r={}
;for(var o in a)for(var i in r[o]={},a[o]){
var s="KIT.normaliseSchema: "+i+"’s ",u=a[o][i],l=r[o][i]={}
;if(null!=u.typeStr)throw TypeError(s+"inDesc.typeStr has already been set")
;if(null!=u.definedIn)throw TypeError(s+"inDesc.definedIn has already been set")
;if(null!=u.definedInStr)throw TypeError(s+"inDesc.definedInStr has already been set")
;l.name=i,
l.default="object"===(void 0===u?"undefined":$traceurRuntime.typeof(u))?u.default:u
;var c={array:Array,boolean:Boolean,function:Function,
number:Number,object:Object,string:String,symbol:Symbol}
;if(u.hasOwnProperty("type"))if(c[u.type])l.type=c[u.type];else if({
undefined:1,color:1,int:1,null:1}[u.type])l.type=u.type;else{
if("function"!=typeof u.type)throw TypeError(s+"inDesc.type is not a string or a function")
;if(!u.type.name)throw TypeError(s+"inDesc.type has no name")
;l.type=u.type}else l.type=l.default.constructor
;l.typeStr=n.stringOrName(l.type),
l.definedIn=e,l.definedInStr=e.name,u.remarks&&(l.remarks=u.remarks)
}
return t&&(r.stat=Object.assign({},t.schema.stat,r.stat),r.attr=Object.assign({},t.schema.attr,r.attr)),
r}},t)
}(t.LOADED_FIRST||!e.Oom.KIT?{}:e.Oom.KIT),a=e.Oom=t.LOADED_FIRST?function(){
function Oom(){void 0!==arguments[0]&&arguments[0]}
return $traceurRuntime.createClass(Oom,{reset:function(){
var e=this.constructor.schema.attr
;for(var t in e)n.isConstant(t)||(n.isReadOnly(t)?this.attr["_"+t]=e[t].default:this.attr[t]=e[t].default)
}},{reset:function(){var e=this.schema.stat
;for(var t in e)n.isConstant(t)||(n.isReadOnly(t)?e[t].definedIn.stat["_"+t]=e[t].default:this.stat[t]=e[t].default)
},get schema(){return n.normaliseSchema(Oom,null,{stat:{
NAME:"Oom",VERSION:t.VERSION,HOMEPAGE:"http://oom.loop.coop/",
REMARKS:"Base class for all Oom classes",bar_baz:{
remarks:"Test read-only static",default:"initial value"},
hilite:{
remarks:"General purpose, useful as a dev label or status",
default:"#112233",type:"color"}},attr:{FOO_BAR:8080,foo_bar:1e4,
hilite:{
remarks:"General purpose, useful as a dev label or status",
default:"#445566",type:"color"},fooBar:{default:1e3,type:Number}
}})}})}():e.Oom
;n.name(a,"Oom"),t.LOADED_FIRST&&(a.stat={},n.define(a.stat,!0,a.schema.stat),
a.prototype.attr={},
n.define(a.prototype.attr,!1,a.schema.attr)),Object.defineProperty(a,"memberTableVueTemplate",{
get:function(e){
return'\n<div :class="\'member-table \'+objname">\n  <table :class="{ hid:doHide }">\n    <caption v-html="caption"></caption>\n    <tr>\n      <th>Name</th>\n      <th>Value</th>\n      <th>Default</th>\n      <th>Type</th>\n      <th>Defined In</th>\n    </tr>\n    <tr v-for="val, key in obj" v-bind:class="\'Oom-\'+key">\n      <td class="key">{{key}}</td>\n      <td class="val">\n        <input v-if="isReadWrite(key)"    class="read-write" v-model="obj[key]">\n        <span v-else-if="isReadOnly(key)" class="read-only">{{val}}</span>\n        <span v-else-if="isConstant(key)" class="constant">{{val}}</span>\n        <span v-else                      class="private">{{val}}</span>\n      </td>\n      <td class="is-default">{{schema[key] ? schema[key].default === val ? \'√\' : \'x\' : \'-\'}}</td>\n      <td class="type">{{schema[key] ? schema[key].typeStr : \'-\'}}</td>\n      <td class="defined-in">{{schema[key] ? schema[key].definedInStr : \'-\'}}</td>\n    </tr>\n  </table>\n</div>\n'
}}),Object.defineProperty(a,"devMainVueTemplate",{
get:function(e){
return'\n<div class="dev-main col-12">\n  <member-table :schema="schema.stat" :obj="stat" objname="stat" :do-hide="ui.hideData"\n    :caption="stat.NAME+\' static properties:\'"></member-table>\n  <member-table :schema="schema.attr" :obj="attr" objname="attr" :do-hide="ui.hideData"\n    :caption="stat.NAME+\' attribute properties:\'"></member-table>\n</div>\n'
}}),a.devMainVue=function(t){return{
template:a.devMainVueTemplate,data:function(){return{
schema:t.schema,stat:t.stat,attr:(new t).attr,ui:{hideData:!1,
hideInners:!1}}},methods:{},beforeCreate:function(){
var e=n,t=e.isReadWrite,r=e.isReadOnly,o=e.isConstant,i=e.stringOrName
;Vue.component("member-table",{
template:a.memberTableVueTemplate,props:{doHide:Boolean,
caption:String,schema:Object,obj:Object,objname:String},
methods:{isReadWrite:t,isReadOnly:r,isConstant:o,stringOrName:i}
})},created:function(){n.wrapReadOnly(e.Oom.stat)}}
},a.KIT=n,a.Foo=function(e){
return $traceurRuntime.createClass(function $__1(){
$traceurRuntime.superConstructor($__1).apply(this,arguments)
},{},{get schema(){return n.normaliseSchema(a.Foo,a,{stat:t,
attr:{}})}},e)
}(a),n.name(a.Foo,"Oom.Foo"),a.Foo.stat={},n.define(a.Foo.stat,!0,a.Foo.schema.stat),
a.Foo.prototype.attr={},
n.define(a.Foo.prototype.attr,!1,a.Foo.schema.attr)
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
function(e){var t=e.Oom,n=t.KIT,a=t.Foo.Post=function(e){
return $traceurRuntime.createClass(function $__0(){
var e=void 0!==arguments[0]?arguments[0]:{}
;$traceurRuntime.superConstructor($__0).call(this,e)},{},{
get schema(){return n.normaliseSchema(t.Foo.Post,t.Foo,{stat:{
NAME:"Oom.Foo.Post",REMARKS:"@TODO",prop_d:{type:"number",
default:100},propG:44.4},attr:{OK:123,prop_d:{type:Number,
default:5.5},propG:44.4}})}},e)}(t.Foo)
;n.name(a,"Oom.Foo.Post"),t.Foo.Post.stat={},
n.define(t.Foo.Post.stat,!0,t.Foo.Post.schema.stat),
t.Foo.Post.prototype.attr={},
n.define(t.Foo.Post.prototype.attr,!1,t.Foo.Post.schema.attr)
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
function(e){var t=e.Oom,n=t.KIT,a=t.Foo.Router=function(e){
return $traceurRuntime.createClass(function $__0(){
var e=void 0!==arguments[0]?arguments[0]:{}
;$traceurRuntime.superConstructor($__0).call(this,e)},{},{
get schema(){return n.normaliseSchema(t.Foo.Router,t.Foo,{stat:{
NAME:"Oom.Foo.Router",REMARKS:"@TODO",prop_d:{type:"number",
default:100},propG:44.4},attr:{OK:123,prop_d:{type:Number,
default:5.5},propG:44.4}})}},e)}(t.Foo)
;n.name(a,"Oom.Foo.Router"),t.Foo.Router.stat={},
n.define(t.Foo.Router.stat,!0,t.Foo.Router.schema.stat),
t.Foo.Router.prototype.attr={},
n.define(t.Foo.Router.prototype.attr,!1,t.Foo.Router.schema.attr)
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this);



//// Made by Oomtility Make 1.2.16 //\\//\\ http://oomtility.loop.coop /////////
